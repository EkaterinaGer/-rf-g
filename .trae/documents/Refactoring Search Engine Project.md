Я проанализировал код и скриншоты. Вот план действий для исправления ошибок и приведения кода в соответствие с требованиями ТЗ:

# План реализации

## 1. Рефакторинг `GlobalExceptionHandler`
- **Задача**: Обеспечить централизованную обработку ошибок.
- **Действия**:
    - Изменить возвращаемый тип методов на `ResponseEntity<Map<String, Object>>` (или аналогичный DTO).
    - Формат ответа при ошибке должен быть: `{ "result": false, "error": "Текст ошибки" }`.
    - Убрать `try-catch` блоки из контроллеров, доверив обработку этому классу.

## 2. Обновление `CrawlingService`
- **Задача**: Исправить логику запуска индексации.
- **Действия**:
    - Добавить метод `startIndexing()` без аргументов, который будет запускать индексацию **всех** сайтов из конфигурации (`SitesList`).
    - Переименовать текущий метод `startIndexing(String url)` в `indexSite(String url)` (или использовать перегрузку).
    - Внедрить зависимости через конструктор (`@RequiredArgsConstructor`).

## 3. Доработка `StatisticsServiceImpl`
- **Задача**: Вынести логику статистики из контроллера.
- **Действия**:
    - Раскомментировать аннотацию `@Service`.
    - Использовать `@RequiredArgsConstructor` для внедрения зависимостей.
    - Перенести и адаптировать логику формирования статистики из `ApiController`.

## 4. Рефакторинг `ApiController`
- **Задача**: Привести контроллер в соответствие с требованиями (REST, чистота кода).
- **Действия**:
    - **Dependency Injection**: Заменить `@Autowired` на конструктор (использовать `@RequiredArgsConstructor` и `final` поля).
    - **Методы API**:
        - `startIndexing`: Изменить на `@GetMapping` (так как клиент отправляет GET), убрать входные параметры. Вызывать индексацию всех сайтов.
        - `stopIndexing`: Изменить на `@GetMapping`.
        - `statistics`: Использовать `StatisticsService`.
    - **Возвращаемые значения**: Убрать обертку `ResponseEntity` там, где она не нужна (Spring сделает это автоматически).
    - **Обработка ошибок**: Убрать `try-catch`, полагаясь на `GlobalExceptionHandler`.

## 5. Настройка конфигурации (`application.yaml`)
- **Задача**: Добавить список сайтов для индексации.
- **Действия**:
    - Добавить секцию `indexing-settings` с тестовыми сайтами (например, `lenta.ru`, `skillbox.ru` и т.д.), так как сейчас она отсутствует, а сервис зависит от неё.

## 6. Комментарии и язык
- **Задача**: Обеспечить везде русский язык.
- **Действия**:
    - Все новые методы и классы комментировать на русском.
    - Сообщения об ошибках писать на русском.

После выполнения этих шагов я соберу проект и проведу проверку, чтобы убедиться, что API работает корректно и соответствует запросам фронтенда.